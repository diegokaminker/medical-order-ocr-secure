<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extractor de √ìrdenes M√©dicas - OCR</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Pantalla de Login -->
    <div id="loginScreen" class="screen">
        <div class="login-container">
            <div class="logo">
                <h1>üè• Extractor de √ìrdenes M√©dicas</h1>
                <p>Procesamiento OCR con IA</p>
            </div>
            
            <div class="login-form">
                <h2>Iniciar Sesi√≥n</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Usuario:</label>
                        <input type="text" id="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Contrase√±a:</label>
                        <input type="password" id="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Entrar</button>
                </form>
            </div>
            
            <div class="credentials-info">
                <p><strong>Credenciales de prueba:</strong></p>
                <p>Usuario: admin</p>
                <p>Contrase√±a: ocr2024</p>
            </div>
        </div>
    </div>

    <!-- Pantalla Principal -->
    <div id="mainScreen" class="screen hidden">
        <header class="header">
            <h1>üè• Extractor de √ìrdenes M√©dicas</h1>
            <button id="logoutBtn" class="btn btn-secondary">Cerrar Sesi√≥n</button>
        </header>

        <!-- Disclaimer -->
        <div class="disclaimer">
            <h3>‚ö†Ô∏è AVISO IMPORTANTE</h3>
            <p>Este sistema est√° dise√±ado √∫nicamente para fines de demostraci√≥n y pruebas. <strong>NO env√≠e datos reales de pacientes o informaci√≥n de salud protegida (PHI)</strong>. Use √∫nicamente documentos de prueba o datos ficticios.</p>
        </div>

        <main class="main-content">
            <!-- Secci√≥n de Carga de Archivos -->
            <section class="upload-section">
                <h2>üìÑ Cargar Orden M√©dica</h2>
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <div class="upload-icon">üìÅ</div>
                        <p>Arrastra y suelta tu archivo aqu√≠ o haz clic para seleccionar</p>
                        <p class="file-types">Formatos soportados: PDF, PNG, JPG</p>
                        <input type="file" id="fileInput" accept=".pdf,.png,.jpg,.jpeg" hidden>
                    </div>
                </div>
                <div class="file-info" id="fileInfo" style="display: none;">
                    <p><strong>Archivo seleccionado:</strong> <span id="fileName"></span></p>
                    <p><strong>Tama√±o:</strong> <span id="fileSize"></span></p>
                    <button id="processBtn" class="btn btn-primary">Procesar con IA</button>
                </div>
            </section>

            <!-- Secci√≥n de Resultados -->
            <section class="results-section" id="resultsSection" style="display: none;">
                <h2>üìã Datos Extra√≠dos</h2>
                <div class="results-container">
                    <div class="extracted-data">
                        <h3>Informaci√≥n de la Orden</h3>
                        <div class="data-grid">
                            <div class="data-field">
                                <label>N√∫mero de Orden:</label>
                                <input type="text" id="orderNumber" readonly>
                            </div>
                            <div class="data-field">
                                <label>Fecha de Orden:</label>
                                <input type="text" id="orderDate" readonly>
                            </div>
                            <div class="data-field">
                                <label>Nombre del Cl√≠nico:</label>
                                <input type="text" id="clinicianName" readonly>
                            </div>
                            <div class="data-field">
                                <label>Tipo de ID del Cl√≠nico:</label>
                                <select id="clinicianIdType">
                                    <option value="">Seleccionar...</option>
                                    <option value="national">Nacional</option>
                                    <option value="provincial">Provincial</option>
                                    <option value="gpf">GPF</option>
                                </select>
                            </div>
                            <div class="data-field">
                                <label>N√∫mero de ID del Cl√≠nico:</label>
                                <input type="text" id="clinicianIdNumber" readonly>
                            </div>
                            <div class="data-field full-width">
                                <label>Diagn√≥stico:</label>
                                <textarea id="diagnosis" readonly></textarea>
                            </div>
                            <div class="data-field full-width">
                                <label>Notas:</label>
                                <textarea id="notes" readonly></textarea>
                            </div>
                            <div class="data-field full-width">
                                <label>Servicios Solicitados:</label>
                                <div id="requestedServices">
                                    <div class="service-item">
                                        <input type="text" placeholder="Servicio 1" class="service-input">
                                        <button type="button" class="btn-remove-service">‚ùå</button>
                                    </div>
                                </div>
                                <button type="button" id="addServiceBtn" class="btn btn-secondary">+ Agregar Servicio</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="actions">
                        <button id="downloadJsonBtn" class="btn btn-success">üì• Descargar JSON</button>
                        <button id="processNewBtn" class="btn btn-primary">üîÑ Procesar Nuevo Archivo</button>
                    </div>
                </div>
            </section>

            <!-- Secci√≥n de Carga -->
            <div id="loadingSection" class="loading-section" style="display: none;">
                <div class="loading-spinner"></div>
                <p>Procesando documento con IA...</p>
                <p class="loading-subtitle">Esto puede tomar unos momentos</p>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>
</html>
